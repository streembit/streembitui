<div id="text-chat-area" class="contact-chat-mobile" style="width:100%; height:100%">
    <div>
        <div class="chat-win-header">
            <div class="chat-on-mobile-size chat-with-style">
                <div class="chat-participants">
                    <span data-bind="text: lblheader"></span>
                </div>

                <div class="add-to-chat">
                    <button class="btn btn-default btn-invite inviteCont" data-bind="click: show_invite">
                        <i class="fa fa-user-plus"></i>
                    </button>
                </div>
            </div>
            <div class="buttons-chat-on-mobile-size">
                <div class="btn-group" data-bind="visible: issession">
                    <button class="btn btn-primary saveChatHistoryForTextChat" title="Save Chat History" data-bind="click: savechat">
                        <i class="fa fa-floppy-o" aria-hidden="true"></i>
                    </button>
                    <button class="btn btn-danger deleteChatHistoryForTextChat" title="Delete Chat History" data-bind="click: rmchat">
                        <i class="fa fa-trash-o" aria-hidden="true"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="fill-area">
        <div class="chat-fill-area chatitemswnd" data-bind="css: { heightForKeyboardMobile: forKeyboardMobile, heightforSmallScreen: changeHeightOnMobile}">
            <table cellspacing="0" cellpadding="0">
                <tbody data-bind="foreach: chatitems">
                    <tr>
                        <td>
                            <div style="padding:6px 10px 0 0">
                                <span data-bind="text: time"></span>
                            </div>
                        </td>
                        <td>
                            <div class="chat-sender" style="padding-top:6px">
                                <img width="32" height="32" data-bind="visible: $parent.isContactWithAva(sender), attr: {src: $parent.contact_avatar}" />
                                <span class="chat-item-sender" data-bind="text: sender, css: { isContactSender: sender != $parent.username() }"></span>:
                            </div>
                        </td>
                        <td>
                            <div class="chat-item-msg chat-item-on-mobile-size" data-bind="css: { myTextMessage: sender == $parent.username() }">
                                <span data-bind="text: text"></span>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="footer-chat-controls1">
                <button class="btn btn-primary send-message" data-bind="click: sendchat, attr: {title: btncaption }">
                    <i class="fa fa-paper-plane"></i>
                </button>

                <span class="vertical-divider"></span>

                <button class="btn btn-info send-file" title="Send File" data-bind="click: sendfile">
                    <i class="fa fa-paperclip" aria-hidden="true"></i>
                </button>

                <textarea id="txtChatCtrl" data-bind="value: chatmsg, event: {input: typing, blur: blurTextareaMobile, focus: focusTextareaMobile}" placeholder="Send a Message"></textarea>

                <div class="contact-is-typing-container">
                    <span class="contact-is-typing" data-bind="text: contact_is_typing"></span>
                </div>
        </div>
    </div>

    <!-- add contacts popup -->
    <div class="add-all-contacts-field" data-bind="visible: show_contact_invite">
        <div class="add-group-header-with-closebtn">
            <div class="add-group-header">
                <span>Add to Group</span>
                <button type="button" class="close close-add-group" data-bind="click: close_add_group">&times;</button>
            </div>
        </div>

        <div data-bind="foreach: contacts" class="all-contacts-part">
            <div class="for-add-group-call">
                <div class="list-group-item contact-bar-list-item adding-contact-to-groupcall">
                    <span data-bind="text: name" class="mar-no text-main"></span>
                </div>

                <div >
                    <span data-bind="click: $parent.inviteContact.bind($parent)" class="showAddContBtn">
                        <i class="fa fa-user-plus addUserIcon"></i>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <script type="text/html" id="send-file-template">
        <div id="filesend-dlg-container" style="width:450px;padding-bottom:5px;margin:0 auto 10px auto;text-align:left">
            <div style="width:450px" data-bind="visible: isinprogress() == false">
                <input type="file" id="fileInput" name="files" data-bind="event: { change: function() { send_file($element.files[0]) } }" />
            </div>
            <div style="width:450px;margin-top:10px;display:none" data-bind="visible: isinprogress">
                <div style="font-size:12px;color:#666">Send progress: </div>
                <div>
                    <progress id="fileProgress" value="0" max="100" style="width:400px"></progress>
                </div>
            </div>
        </div>
    </script>
</div>


